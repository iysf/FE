<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>延长作用域链</title>
</head>
<body>
	
	<script type="text/javascript">
		
	// 执行环境的类型只有两种：全局环境与局部环境(函数)              

	// 作用域链得以加长：
	//	1、try-catch语句的catch块、
	//	2、with语句

	function buildUrl () {

		var qs  = '?debug=true',
			  obj = {
					__obj__: { }	
				};

		with ( location ) {

			var url = href + qs;

		}
		
		console.log(url);

		with (obj) {

			var a = 1;
			console.log(__obj__); // ???
			
		}
		
		console.log(a);

		return url;
	}
	buildUrl()	// ???

	</script>

</body>
</html>