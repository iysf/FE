<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>读取属性的特性</title>
</head>
<body>
	
	<script type="text/javascript">
		
	// 使用ES5的 Object.getOwnPropertyDrscriptor()方法，可以取得给定属性的描述符，这个方法接受2个参数，
	// 1、属性所在的对象。2、要读取其描述符的属性名称。返回值是一个对象。                  

	// 如果是访问器属性，这个对象的属性有 configurable、enumerable、get 和 set;
	// 如果是数据属性，这个对象的属性有 configurable、enumerable、writable 和 value;

	var book = {}

	Object.defineProperties(book, {
		// 数据属性
		_year: {
			value: 2004,
		},
		edition: {
			value: 1,
		},
		// 访问器属性
		year: {
			get: function () {
				return this._year
			},
			set: function (newValue) {
				this._year = newValue
			}
		}
	})

	var descriptor = Object.getOwnPropertyDescriptor(book, '_year')

	console.log("descriptor:", descriptor.value)
	console.log("descriptor:", descriptor.configurable)
	console.log("descriptor:", typeof descriptor.get)

	var newDescriptor = Object.getOwnPropertyDescriptor(book, 'year')

	console.log("newDescriptor:", newDescriptor.value)
	console.log("newDescriptor:", newDescriptor.configurable)
	console.log("newDescriptor:", newDescriptor.get)
	console.log("newDescriptor:", typeof newDescriptor.get)

	// 可以对任何IE9以上的对象 使用 Object.getOwnPropertyDescriptor

	</script>

</body>
</html>